
<html>

<head>
 <meta charset="utf-8">
</head>

<body>
    <h1>Data collection test</h1><br/>
    <h2>Form HTML ID: test_form</h2>
    <h2>This page has TrackProject, TrackForm</h2>
    <form id=test_form>
        <input name=name type=text value="test" />
        <input name=age type=text value="21" />
        <input name=sex type=text value="sex" />
        <input name=fx_trj_horse type=text />
        <input type=submit id="submit" />
    </form>
</body>
<!-- <script src="http://static_formx.cyces.co/tracker/v1/bundle.js"></script> -->
<script>
    !function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}([function(e,t,n){"use strict";t.a=function(){return(new Date).getTime()/1e3},t.b=function(e,t){var n=e.getBoundingClientRect(),r=n.bottom-n.top;if(n.bottom<t&&n.bottom>0||n.top>0&&n.top<t||Math.abs(n.top)<r)return!0;return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addListenersToForm=s,t.addTrojanHorse=u,t.setPageTrack=c,t.set=function(e){void 0===e&&(e="http://api_formx.cyces.co");var t=null,n=[];return{trackProject:function(e){t=e},trackForm:function(e,t,r,o){void 0===r&&(r=function(e){}),void 0===o&&(o=function(e){}),n.push({form_id:e,form_element_id:t,onSuccess:r,onError:o})},start:function(){if(null!==t&&void 0!==t)if("form"==(0===n.length?"noform":"form"))for(var r=0;r<n.length;r++)s(n[r].form_element_id,t,n[r].form_id,e,n[r].onSuccess,n[r].onError);else c(t,e)}}};var r=n(4),o=n(5),i=n(0);function a(e){var t=[];!function e(t,n){if(0===t.length)return n;if(0===t[0].children.length)return t.shift(),e(t,n);var r=t[0].children;t.shift();for(var o=0,i=Array.from(r);o<i.length;o++){var a=i[o];t.push(a),n.push(a)}return e(t,n)}([e],t);var n=t.filter(function(e){return"INPUT"===e.tagName||"SELECT"===e.tagName||"RADIO"===e.tagName||"CHECKBOX"===e.tagName||"TEXTAREA"===e.tagName});return n=n.filter(function(e){return"submit"!==e.type})}function s(e,t,n,o,s,c){var d=document.getElementById(e);null!==d&&void 0!==d||console.error("FormX operational error, could not find any form with id: "+e);var f=Object(r.a)(o,s,c),p=window.innerHeight,m=window.innerWidth,l=a(d);u(d,l),l=a(d),f.setViewport(p,m),f.setProjectAndFormId(t,n);var v=function(){f.setOnLoad(),window.removeEventListener("onload",v),!0===i.b(d,p)&&f.setOnFormView(),window.removeEventListener("scroll",h);var e=0,t=3e3,n=function(){e<3?t=2e3:e<8?t=3e3:t+=e<15?2e3:3e3,setTimeout(function(){e++,f.setHeartBeat(),n()},t)};n()};window.addEventListener("load",v);var h=function(){!0===i.b(d,p)&&f.setOnFormView(),window.removeEventListener("scroll",h)};window.addEventListener("scroll",h);!function(){for(var e=function(){f.setOnFormInteract();for(var t=0,n=l;t<n.length;t++){n[t].removeEventListener("keydown",e)}},t=0,n=l;t<n.length;t++){n[t].addEventListener("keydown",e)}}();d.addEventListener("submit",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault();for(var t={},n=0,r=l;n<r.length;n++){var o=r[n];t[o.name]=o.value}f.setOnFormSubmission(t)})}function u(e,t){var n=document.createElement("input");n.id="fx_trj_horse",n.name="fx_trj_horse",n.value="",t[0].insertAdjacentElement("afterend",n),document.getElementById("fx_trj_horse").style.display="none"}function c(e,t){void 0===t&&(t="http://127.0.0.1:8000");var n=Object(o.a)(t),r=window.innerHeight,i=window.innerWidth;n.setViewport(r,i),n.setProjectId(e);var a=function(){n.setOnLoad(),window.removeEventListener("onload",a);var e=0,t=3e3,r=function(){e<5?t=3e3:t+=e<12?2e3:3e3,setTimeout(function(){e++,n.setHeartBeat(),r()},t)};r()};window.addEventListener("load",a)}n(2)},function(e,t,n){(function(t){e.exports=t.FormX=n(1)}).call(t,n(3))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(0);t.a=function(e,t,n){var o,i,a,s,u,c,d=!0,f=null,p=null,m=null,l=!1,v=window.innerHeight,h=window.innerWidth,_=0,w=0,g=0;return{setProjectAndFormId:function(e,t){i=e,a=t},setOnLoad:function(){o=r.a(),function(){var t=new XMLHttpRequest;t.open("POST",e+"/vi/advanced/f/onload/"),t.withCredentials=!0,t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.onreadystatechange=function(){4==this.readyState&&200==this.status&&JSON.parse(this.responseText)};var n={is_formpage:d,project_id:i,form_id:a,onpage_load_timestamp:o,viewport_height:v,viewport_width:h,form_bottom_relative_to_viewport:w,form_top_relative_to_viewport:_};t.send(JSON.stringify(n))}()},setOnFormView:function(){f=r.a(),l=!0},setOnFormInteract:function(){p=r.a()},setOnFormSubmission:function(c){m=r.a(),s=c,u=JSON.stringify(s),!1===l&&(f=o,l=!0),function(){var r=new XMLHttpRequest;r.open("POST",e+"/vi/advanced/f/submission/"),r.withCredentials=!0,r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);if(!0===e.success)null!==e.redirect_url&&void 0!==e.redirect_url&&!0===e.redirect&&0!==e.redirect_url.length&&window.location.replace(e.redirect_url),null!==e.fresh&&void 0!==e.fresh&&!0===e.fresh?alert("Integration successful!"):t(this.response);else if(null!==e.fresh&&void 0!==e.fresh&&!0===e.fresh){for(var r="",o=0,i=e.errors;o<i.length;o++){var a=i[o];r+="INVALID_DOMAIN"===a?"\n                                Error: INVALID_DOMAIN,\n                                Required Domain: "+e.required_domain+",\n                                Request Domain: "+e.request_domain+"\n                                ":"\n                                Error: "+a+"\n                                ",r+="\n"}alert("Integration Errors:\n "+r)}else n(this.response)}4==this.readyState&&200!==this.status&&n(this.response)};var s={is_formpage:d,project_id:i,form_id:a,onpage_load_timestamp:o,onform_view_timestamp:f,onform_interact_timestamp:p,onform_submission_timestamp:m,user_filled_data:u};r.send(JSON.stringify(s))}()},setHeartBeat:function(){c=r.a(),function(){g++;var t=new XMLHttpRequest;t.open("POST",e+"/vi/advanced/f/hb/"),t.withCredentials=!0,t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.onreadystatechange=function(){4==this.readyState&&200==this.status&&JSON.parse(this.responseText)};var n={};n=1===g?{first:!0,is_formpage:d,project_id:i,form_id:a,onpage_load_timestamp:o,onform_view_timestamp:f,onform_interact_timestamp:p,timestamp:c}:{is_formpage:d,project_id:i,form_id:a,onpage_load_timestamp:o,timestamp:c},t.send(JSON.stringify(n))}()},setViewport:function(e,t){v=e,h=t},setFormRelativeToViewport:function(e,t){_=e,w=t}}}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){var t,n,o,i,a=!1,s=null;return{setProjectId:function(e){n=e},setOnLoad:function(){t=Object(r.a)(),function(){var r=new XMLHttpRequest;r.open("POST",e+"/vi/advanced/nf/onload/"),r.withCredentials=!0,r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.onreadystatechange=function(){4==this.readyState&&200==this.status&&JSON.parse(this.responseText)};var s={is_formpage:a,project_id:n,onpage_load_timestamp:t,viewport_height:o,viewport_width:i};r.send(JSON.stringify(s))}()},setHeartBeat:function(){s=Object(r.a)(),function(){var r=new XMLHttpRequest;r.open("POST",e+"/vi/advanced/nf/hb/"),r.withCredentials=!0,r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.onreadystatechange=function(){4==this.readyState&&200==this.status&&JSON.parse(this.responseText)};var o={is_formpage:a,project_id:n,onpage_load_timestamp:t,timestamp:s};r.send(JSON.stringify(o))}()},setViewport:function(e,t){o=e,i=t}}}}]);
</script>
<script>
    var formx = FormX.set()
    formx.trackProject('Test Project_5abfc809-047d-4939-bdb4-ac6700b1d457')
    formx.trackForm('Details form_16b6574c-6c60-481c-b1e1-8c1beef6e279', 'test_form')
    formx.start()
</script>
</html>